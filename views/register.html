<!DOCTYPE html>
<html lang="en">

<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css"
        integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <link rel="stylesheet" href="/css/style.css">
    <link rel="stylesheet"
        href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200&icon_names=bookmark" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <script src="https://kit.fontawesome.com/d7379cf77c.js" crossorigin="anonymous"></script>
    <title>Oh! My Mov</title>
</head>

<body>
    <!-----------------------------------------------------------HEADER--------------------------------------------------------->

    <header class="fixed-top">
        <nav class="navbar navbar-expand-lg">
            <a class="navbar-brand" href="/" id="logo">
                <img src="/images/logo2.png" width="200px" height="33px">
            </a>
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent"
                aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>

            
        </nav>
    </header>

    <!-- Sign Up Modal -->
    <div class="container">
        <form action="/register" method="POST" class="signin">
            <div class="popup-sign-p" id="signupModal">
                <div class="container">
                    <h2 class="title-sign mb-5">Create an account</h2>
                    <!-- alert no fill information-->
                    <% if(error !=null && error.length> 0) { %>
                        <% for(let i=0; i < error.length; i++) { %>
                            <p class="alert alert-danger">
                                <%= error[i] %>
                            </p>
                            <% } %>
                                <% } %>
                                    <div class="form">
                                        <div class="row">
                                            <div class="col-6">
                                                <div class="form-element-sign">
                                                    <label for="signup-email">Email</label>
                                                    <input type="email" id="signup-email" name="email"
                                                        value="<%= email %>" placeholder="Enter your Email">

                                                    <% if (error.email) { %>
                                                        <p class="alert alert-danger">
                                                            <%= error.email.msg %>
                                                        </p>
                                                        <% } %>
                                                </div>
                                            </div>


                                            <div class="col-6">
                                                <div class="form-element-sign">
                                                    <label for="signup-username">Username</label>
                                                    <input type="text" id="signup-username" value="<%= username %>"
                                                        placeholder="Enter your username" name="username">

                                                    <% if (error.username) { %>
                                                        <p class="alert alert-danger">
                                                            <%= error.username.msg %>
                                                        </p>
                                                        <% } %>
                                                </div>

                                            </div>

                                            <div class="col-6">
                                                <div class="form-element-sign">
                                                    <label for="signup-dob">Date of Birth</label>
                                                    <div class="input-wrapper">
                                                        <input type="date" id="signup-dob" name="dateOfBirth"
                                                            value="<%= dateOfBirth ? dateOfBirth : '' %>">
                                                        <span class="custom-calendar-icon">
                                                            <i class="fa-regular fa-calendar"></i>
                                                        </span>
                                                    </div>

                                                    <% if (error.dateOfBirth) { %>
                                                        <p class="alert alert-danger">
                                                            <%= error.dateOfBirth.msg %>
                                                        </p>
                                                        <% } %>
                                                </div>
                                            </div>

                                            <div class="col-6">
                                                <div class="form-element-sign">
                                                    <label for="signup-gender">Gender</label>
                                                    <select id="signup-gender" name="gender">
                                                        <option value="" <% if (!gender) { %>selected<% } %>>Select
                                                                Gender</option>
                                                        <option value="male" <% if (gender==='male' ) { %>selected<% }
                                                                %>>Male</option>
                                                        <option value="female" <% if (gender==='female' ) { %>selected<%
                                                                } %>>Female</option>
                                                        <option value="other" <% if (gender==='other' ) { %>selected<% }
                                                                %>>Other</option>
                                                    </select>
                                                    <% if (error.gender) { %>
                                                        <p class="alert alert-danger">
                                                            <%= error.gender.msg %>
                                                        </p>
                                                        <% } %>
                                                </div>
                                            </div>

                                            <div class="col-6">
                                                <div class="form-element-sign">
                                                    <label for="signup-password">Password</label>
                                                    <div class="input-wrapper">
                                                        <input type="password" id="signup-password"
                                                            value="<%= password %>" placeholder="Enter your password"
                                                            name="password">
                                                        <span class="toggle-password"
                                                            onclick="togglePassword('signup-password', this)">
                                                            <i class="fa-regular fa-eye-slash"></i>
                                                        </span>
                                                    </div>

                                                    <% if (error.password) { %>
                                                        <p class="alert alert-danger">
                                                            <%= error.password.msg %>
                                                        </p>
                                                        <% } %>
                                                </div>
                                            </div>

                                            <div class="col-6">
                                                <div class="form-element-sign">
                                                    <label for="confirm-password">Confirm Password</label>
                                                    <div class="input-wrapper">
                                                        <input type="password" id="confirm-password"
                                                            value="<%= confirmPassword %>"
                                                            placeholder="Confirm your password" name="confirm_password">
                                                        <span class="toggle-password"
                                                            onclick="togglePassword('confirm-password', this)">
                                                            <i class="fa-regular fa-eye-slash"></i>
                                                        </span>
                                                    </div>

                                                    <% if (error.confirm_password) { %>
                                                        <p class="alert alert-danger">
                                                            <%= error.confirm_password.msg %>
                                                        </p>
                                                        <% } %>
                                                </div>
                                            </div>


                                            <div class="form-element-sign">
                                                <!-- Checkbox ที่มีลิงก์ไป Terms/Privacy -->
                                                <label for="agree-terms">
                                                    <input type="checkbox" id="agree-terms" name="agreeTerms" />
                                                    
                                                    

                                                    I agree to the
                                                    <a href="#" id="open-terms" class="create privacy">Terms of Service</a> and
                                                    <a href="#" id="open-privacy" class="create privacy">Privacy Policy</a>
                                                    <% if (error.agreeTerms) { %>
                                                        <p class="alert alert-danger"><%= error.agreeTerms.msg %></p>
                                                    <% } %>
                                                </label>
                                            </div>
                                            <!-- Modal Template -->
                                            <div id="modal" class="modal hidden">
                                                <div class="modal-content">
                                                    <span id="close-modal" class="close">&times;</span>
                                                    <div id="modal-body">
                                                        <!-- เนื้อหาจะแสดงที่นี่ -->
                                                    </div>
                                                </div>
                                            </div>

                                            <style>
                                                .modal {
                                                    position: fixed;
                                                    top: 0;
                                                    left: 0;
                                                    width: 100%;
                                                    height: 100%;
                                                    background: rgba(0, 0, 0, 0.6);
                                                    display: flex;
                                                    justify-content: center;
                                                    align-items: center;
                                                    z-index: 9999;
                                                }

                                                .modal.hidden {
                                                    display: none;
                                                }

                                                .modal-content {
                                                    background: white;
                                                    padding: 20px;
                                                    width: 90%;
                                                    max-width: 700px;
                                                    border-radius: 8px;
                                                    position: relative;
                                                    max-height: 80vh;
                                                    overflow-y: auto;
                                                }

                                                .close {
                                                    position: absolute;
                                                    top: 10px;
                                                    right: 20px;
                                                    font-size: 20px;
                                                    cursor: pointer;
                                                }

                                                #modal-body {
                                                    font-size: 13.5px;
                                                    line-height: 1.5;
                                                }
                                            </style>

                                            <script>
                                                // เนื้อหาของ Terms และ Privacy
                                                const termsContent = `
                                                <p>Terms of Service</p>
                                                <p>โปรดอ่านเงื่อนไขการให้บริการนี้อย่างละเอียดก่อนใช้บริการของเรา การใช้งานหรือการลงทะเบียนบัญชีของคุณถือว่าคุณยอมรับเงื่อนไขเหล่านี้</p>

                                                <p>1. การยอมรับข้อตกลง
                                                เมื่อคุณลงทะเบียนหรือใช้บริการ ถือว่าคุณตกลงปฏิบัติตามข้อกำหนดและเงื่อนไขนี้ในทุกประการ</p>

                                                <p>2. ข้อมูลผู้ใช้งาน
                                                เราจะเก็บข้อมูลที่คุณให้ไว้ เช่น ชื่อผู้ใช้งาน อีเมล วันเดือนปีเกิด และรหัสผ่าน ซึ่งจะถูกเก็บอย่างปลอดภัยและเข้ารหัส</p>

                                                <p>3. ความรับผิดชอบของผู้ใช้งาน</p>
                                                <ul>
                                                    <li>ห้ามให้ข้อมูลปลอมแปลง หรือแอบอ้างบุคคลอื่น</li>
                                                    <li>ห้ามใช้บัญชีเพื่อจุดประสงค์ที่ผิดกฎหมาย</li>
                                                    <li>คุณต้องเก็บข้อมูลเข้าสู่ระบบไว้เป็นความลับ</li>
                                                </ul>

                                                <p>4. การระงับหรือยุติบัญชี
                                                เราสามารถระงับหรือยุติบัญชีของคุณได้ทันที หากตรวจพบว่ามีการละเมิดเงื่อนไขใด ๆ</p>

                                                <p>5. สิทธิในทรัพย์สินทางปัญญา
                                                เนื้อหาในระบบ เช่น ซอฟต์แวร์ โค้ด และกราฟิก เป็นทรัพย์สินของบริษัท ห้ามนำไปใช้โดยไม่ได้รับอนุญาต</p>

                                            <p>6. การเปลี่ยนแปลงข้อตกลง
                                                บริษัทอาจปรับเปลี่ยนข้อตกลงนี้โดยไม่ต้องแจ้งล่วงหน้า แต่จะอัปเดตให้ทราบผ่านระบบหากมีสาระสำคัญเปลี่ยนแปลง</p>

                                                `;

                                                const privacyContent = `
                                                <p>Privacy Policy</p>
                                                <p>1. ข้อมูลที่เราเก็บ</p>
                                                <ul>
                                                    <li>ชื่อผู้ใช้งาน</li>
                                                    <li>อีเมล</li>
                                                    <li>วันเดือนปีเกิด</li>
                                                    <li>รหัสผ่าน (จัดเก็บแบบเข้ารหัส)</li>
                                                </ul>

                                                <p>2. วัตถุประสงค์ของการเก็บข้อมูล</p>
                                                <ul>
                                                    <li>เพื่อระบุตัวตนของผู้ใช้งาน</li>
                                                    <li>เพื่อให้บริการต่าง ๆ ในระบบ</li>
                                                    <li>เพื่อความปลอดภัยของบัญชี</li>
                                                </ul>
 
                                                <p>3. ระยะเวลาการเก็บรักษา
                                                เราจะเก็บข้อมูลจนกว่าผู้ใช้งานจะลบบัญชี หรือขอให้ลบข้อมูลตามสิทธิที่มี</p>

                                                <p>4. การเปิดเผยข้อมูล
                                                ข้อมูลของคุณจะไม่ถูกขายหรือเปิดเผยแก่บุคคลที่สาม ยกเว้นตามกฎหมาย หรือเมื่อได้รับความยินยอมจากคุณ</p>

                                                <p>5. สิทธิของเจ้าของข้อมูล</p>
                                                <ul>
                                                    <li>สิทธิในการเข้าถึง แก้ไข หรือลบข้อมูลส่วนบุคคล</li>
                                                    <li>สิทธิในการถอนความยินยอม</li>
                                                    <li>สิทธิในการร้องเรียนต่อหน่วยงานกำกับ</li>
                                                </ul>
                                                `;


                                                // Event handler
                                                document.getElementById('open-terms').addEventListener('click', function (e) {
                                                    e.preventDefault();
                                                    document.getElementById('modal-body').innerHTML = termsContent;
                                                    document.getElementById('modal').classList.remove('hidden');
                                                });

                                                document.getElementById('open-privacy').addEventListener('click', function (e) {
                                                    e.preventDefault();
                                                    document.getElementById('modal-body').innerHTML = privacyContent;
                                                    document.getElementById('modal').classList.remove('hidden');
                                                });

                                                document.getElementById('close-modal').addEventListener('click', function () {
                                                    document.getElementById('modal').classList.add('hidden');
                                                });
                                            </script>


                                            <button class="btn-sign" type="submit">Sign Up</button>
                                        </div>
                                    </div>

                </div>
            </div>
        </form>
    </div>




    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"
        integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.12.9/dist/umd/popper.min.js"
        integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/js/bootstrap.min.js"
        integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl"
        crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.6.1/gsap.min.js"></script>
    <script src="/js/togglepassword.js"></script>


    <!-- <script>
    function togglePassword(inputId, iconElement) {
        let input = document.getElementById(inputId);
        let icon = iconElement.querySelector("i");

        if (input.type === "password") {
            input.type = "text";
            icon.classList.remove("fa-eye-slash");
            icon.classList.add("fa-eye");
        } else {
            input.type = "password";
            icon.classList.remove("fa-eye");
            icon.classList.add("fa-eye-slash");
        }
    }
</script> -->




</body>




</html>